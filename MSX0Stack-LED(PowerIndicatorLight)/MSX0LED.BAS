100 'SAVE "MSX0LED.BAS
110 'Test Code: MSX0Stack LED(Green power indicator light)
120 'Init
130   CLS:SCREEN 1:DEFINT A-Z:KEY OFF:WIDTH 32:COLOR 15,0,0
140   IA$="34" 'I2C Address for AXP192
150   DT$="device/i2c_i" 'Device Tree
160   RG$=CHR$(&H94) 'REG 94H:GPIO 2:0  signal status set and monitor
170 'Device Check
180   _IOTFIND(DT$,FI)
190   IF FI=0 THEN PRINT "Internal I2C device not found...":BEEP:END
200   _IOTFIND(DT$,FS$(0),FI)
210   DT$=DT$+"/"+IA$ 'Device Tree for AXP192
220   FOR I=0 TO FI-1:IF FS$(I)=IA$ THEN 240 ELSE NEXT I
230   PRINT "AXP192 is not found...":BEEP:END
240 'Main
250   GOSUB 320'LED ON/OFF
260   GOSUB 280"Wait
270   GOTO 240
280 'Wait
290   TIME=0
300   IF TIME<30 THEN 300
310   RETURN
320 'LED ON/OFF
330   _IOTGET(DT$,GI)
340   'PRINT "REG(";HEX$(ASC(RG$));"H):&H";HEX$(GI)
350   PS$=RG$+CHR$(GI XOR &B00000010)
360   _IOTPUT(DT$,PS$)
370   RETURN
